# üß† Sistema de Triagem Psicol√≥gica - Configura√ß√µes de Ambiente
# Copie este arquivo para .env e preencha com suas configura√ß√µes

# ==============================================================================
# üîê CONFIGURA√á√ïES DO SERVIDOR
# ==============================================================================
PORT=3000
NODE_ENV=development

# ==============================================================================
# üóÑÔ∏è NOTION API CONFIGURATION (OBRIGAT√ìRIAS)
# ==============================================================================
# ‚ö†Ô∏è IMPORTANTE: Obtenha sua chave em https://developers.notion.com/
NOTION_API_KEY=secret_sua_chave_notion_aqui

# üìä IDs das Databases criadas no Notion
# Estes IDs foram fornecidos durante a configura√ß√£o inicial
NOTION_DATABASE_BIPOLAR=cea70b522dd14b61874410cabf296478
NOTION_DATABASE_NARCISISMO=78581d17c6e342be9ba12d3c4058ce52
NOTION_DATABASE_MITOMANIA=b4ab5e546051403daeb202bdabdc0818

# ==============================================================================
# üõ°Ô∏è SEGURAN√áA E RATE LIMITING
# ==============================================================================
# Janela de tempo para rate limiting (15 minutos em ms)
RATE_LIMIT_WINDOW_MS=900000

# M√°ximo de requests por janela de tempo
RATE_LIMIT_MAX_REQUESTS=100

# Pular requests bem-sucedidos no rate limiting
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# ==============================================================================
# üîí HASH E CRIPTOGRAFIA
# ==============================================================================
# ‚ö†Ô∏è CR√çTICO: Use uma chave forte de pelo menos 32 caracteres
# ‚ö†Ô∏è NUNCA use a chave padr√£o em produ√ß√£o!
HASH_SECRET_KEY=SuaChaveSecretaMuitoFortePeloMenos32Chars

# Algoritmo de hash (recomendado: sha256)
ENCRYPTION_ALGORITHM=sha256

# ==============================================================================
# üìä CONFIGURA√á√ïES DE SCORING
# ==============================================================================
# Multiplicadores para c√°lculo de pontua√ß√£o final
BIPOLAR_SCORE_MULTIPLIER=2.5
NARCISISMO_SCORE_MULTIPLIER=2.38
MITOMANIA_SCORE_MULTIPLIER=1.82

# ==============================================================================
# ‚ö†Ô∏è THRESHOLDS DE RISCO
# ==============================================================================
# Pontua√ß√µes que determinam os n√≠veis de risco
RISK_LOW_THRESHOLD=30
RISK_MODERATE_THRESHOLD=50
RISK_HIGH_THRESHOLD=70
RISK_CRITICAL_THRESHOLD=85

# ==============================================================================
# üìù CONFIGURA√á√ïES DE LOGGING
# ==============================================================================
# N√≠vel de log: error, warn, info, debug
LOG_LEVEL=info

# Caminho para arquivo de log (opcional)
LOG_FILE_PATH=./logs/app.log

# N√∫mero m√°ximo de arquivos de log
LOG_MAX_FILES=5

# Tamanho m√°ximo por arquivo
LOG_MAX_SIZE=10m

# ==============================================================================
# üåê CORS CONFIGURATION
# ==============================================================================
# URLs permitidas (separadas por v√≠rgula)
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Permitir credenciais CORS
CORS_CREDENTIALS=true

# ==============================================================================
# üïí SESSION E TIMEOUTS
# ==============================================================================
# Timeout de sess√£o em minutos
SESSION_TIMEOUT_MINUTES=30

# Tempo m√°ximo por pergunta em segundos
MAX_QUESTION_TIME_SECONDS=60

# ==============================================================================
# üìß NOTIFICA√á√ïES (OPCIONAL)
# ==============================================================================
# Webhook para casos cr√≠ticos (opcional)
WEBHOOK_URL_CRITICAL_CASES=https://your-webhook-url.com/critical

# Email do administrador (opcional)
ADMIN_EMAIL=admin@yourdomain.com

# ==============================================================================
# üîÑ CONFIGURA√á√ïES DE RETRY
# ==============================================================================
# N√∫mero de tentativas para opera√ß√µes do Notion
NOTION_RETRY_ATTEMPTS=3

# Delay entre tentativas em milissegundos
NOTION_RETRY_DELAY_MS=1000

# ==============================================================================
# üì± CONFIGURA√á√ïES DE API MOBILE (OPCIONAL)
# ==============================================================================
# Vers√£o da API mobile
MOBILE_API_VERSION=v1

# Vers√£o m√≠nima do app mobile
MOBILE_MIN_VERSION=1.0.0

# ==============================================================================
# üß™ CONFIGURA√á√ïES DE DESENVOLVIMENTO/TESTING
# ==============================================================================
# Pular anonimiza√ß√£o de IP em desenvolvimento
DEV_SKIP_IP_ANONYMIZATION=false

# Usar mock da API do Notion (para testes)
DEV_MOCK_NOTION_API=false

# Prefixo para databases de teste
TEST_DATABASE_PREFIX=test_

# ==============================================================================
# üìä CONFIGURA√á√ïES DE ANALYTICS
# ==============================================================================
# Habilitar coleta de analytics
ENABLE_ANALYTICS=true

# Taxa de amostragem para analytics (0.0 a 1.0)
ANALYTICS_SAMPLING_RATE=0.1

# ==============================================================================
# üíæ CONFIGURA√á√ïES DE CACHE
# ==============================================================================
# TTL do cache em segundos
CACHE_TTL_SECONDS=300

# Tamanho m√°ximo do cache em mem√≥ria
CACHE_MAX_SIZE=100

# ==============================================================================
# üåç CONFIGURA√á√ïES DE LOCALIZA√á√ÉO
# ==============================================================================
# Timezone padr√£o
DEFAULT_TIMEZONE=America/Sao_Paulo

# Locale padr√£o
DEFAULT_LOCALE=pt-BR

# ==============================================================================
# üîß CONFIGURA√á√ïES DE PERFORMANCE
# ==============================================================================
# Tamanho m√°ximo do payload
MAX_PAYLOAD_SIZE=1mb

# Timeout de request em milissegundos
REQUEST_TIMEOUT_MS=30000

# Timeout para keep-alive
KEEP_ALIVE_TIMEOUT_MS=65000

# ==============================================================================
# üìã INSTRU√á√ïES DE CONFIGURA√á√ÉO
# ==============================================================================
#
# 1. COPIE ESTE ARQUIVO:
#    cp .env.example .env
#
# 2. CONFIGURE AS VARI√ÅVEIS OBRIGAT√ìRIAS:
#    - NOTION_API_KEY: Sua chave da API do Notion
#    - HASH_SECRET_KEY: Chave secreta forte (32+ caracteres)
#    - NOTION_DATABASE_*: IDs das databases (j√° preenchidos)
#
# 3. AJUSTE CONFORME NECESS√ÅRIO:
#    - PORT: Porta do servidor
#    - ALLOWED_ORIGINS: Dom√≠nios permitidos
#    - LOG_LEVEL: N√≠vel de logging
#
# 4. PARA PRODU√á√ÉO:
#    - NODE_ENV=production
#    - Use HTTPS nos ALLOWED_ORIGINS
#    - Configure webhooks para alertas
#    - Defina uma HASH_SECRET_KEY forte
#
# 5. VALIDA√á√ÉO:
#    Execute: npm run validate-env
#
# ==============================================================================
# üîê SEGURAN√áA - LEMBRE-SE:
# ==============================================================================
# ‚ùå NUNCA commite o arquivo .env no Git
# ‚ùå NUNCA use valores padr√£o em produ√ß√£o
# ‚ùå NUNCA compartilhe chaves de API
# ‚úÖ Use vari√°veis de ambiente no deploy
# ‚úÖ Monitore logs para tentativas suspeitas
# ‚úÖ Mantenha as depend√™ncias atualizadas
#
# ==============================================================================